@use "sass:color";

// Reset & Base
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: $font-family;
  font-size: $font-size-base;
  font-weight: $font-weight-normal;
  line-height: 1.6;
  color: $color-text;
  background: $color-white;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

// Typography
h1, h2, h3, h4, h5, h6 {
  font-weight: $font-weight-light;
  line-height: 1.2;
}

a {
  color: inherit;
  text-decoration: none;
  transition: color $transition-base;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

button {
  font-family: inherit;
  cursor: pointer;
}

ul, ol {
  list-style: none;
}

// Utility classes
.container {
  width: 100%;
  max-width: $container-max;
  margin: 0 auto;
  padding: 0 $spacing-xl;
}

// ─── Button base ────────────────────────────────────────────────────────────

.btn-container {
  width: 100%;
  text-align: center;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: $spacing-sm;
  padding: $spacing-md $spacing-xl;
  font-size: $font-size-sm;
  font-weight: $font-weight-medium;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  border: none;
  cursor: pointer;
  transition: all $transition-base;
  position: relative;
}

// ─── btn--outline: bordo SVG stroke-dasharray ───────────────────────────────
//
//  Struttura HTML (generata da BtnOutline.vue):
//    <div class="btn-container">
//      <div class="btn-outline-wrapper">               ← ref per ResizeObserver
//        <a class="btn btn--outline" :style="...">     ← CSS vars iniettate qui
//          <svg class="btn__svg-border">
//            <rect :x :y :width :height />             ← coordinate da composable
//          </svg>
//          TESTO
//          <span class="btn__arrow">›</span>
//        </a>
//      </div>
//    </div>
//
//  Le CSS vars --btn-dash, --btn-gap, --btn-offset, --btn-perimeter
//  vengono calcolate da useBtnBorder() e applicate inline sul .btn--outline.

.btn--outline {
  color: $color-dark;
  background: white;

  .btn__svg-border {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: visible;

    rect {
      fill: none;
      stroke: url(#btn-gradient);
      stroke-width: 5px;
      stroke-dasharray: var(--btn-dash) var(--btn-gap);
      stroke-dashoffset: var(--btn-offset);
      transition:
        stroke-dasharray 0.7s cubic-bezier(0.76, 0, 0.24, 1),
        stroke-dashoffset 0.7s cubic-bezier(0.76, 0, 0.24, 1);
    }
  }

  &:hover .btn__svg-border rect {
    stroke-dasharray: 0 var(--btn-perimeter);
    stroke-dashoffset: 0;
  }
}

// ─── btn--primary ────────────────────────────────────────────────────────────

.btn--primary {
  background: $color-blue;
  color: $color-white;
  border: 1px solid $color-blue;

  &:hover {
    background: color.adjust($color-blue, $lightness: -10%);
  }
}

// ─── btn--dark ───────────────────────────────────────────────────────────────

.btn--dark {
  background: $color-dark;
  color: $color-white;
  border: 1px solid $color-dark;

  &::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, $color-gold, $color-copper, $color-gray, $color-blue);
  }

  &:hover {
    background: color.adjust($color-dark, $lightness: 10%);
  }
}

// ─── Arrow ───────────────────────────────────────────────────────────────────

.btn__arrow {
  transition: transform $transition-base;
}

.btn:hover .btn__arrow {
  transform: translateX(4px);
}


// ─── Section styles ──────────────────────────────────────────────────────────

.section {
  padding: $spacing-4xl 0;

  &--dark {
    background: $color-dark;
    color: $color-white;
  }

  &--light {
    background: $color-light;
  }

  &--blue {
    background: $color-blue;
    color: $color-white;
  }
}

// ─── Scrollbar ───────────────────────────────────────────────────────────────

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: $color-light;
}

::-webkit-scrollbar-thumb {
  background: $color-gray;
  border-radius: 4px;
}

// ─── Selection ───────────────────────────────────────────────────────────────

::selection {
  background: $color-blue;
  color: $color-white;
}